/*! Quasar 2014-10-22 */
"use strict";var QJSON=function(a,b){if(b){var c=localStorage.getItem(a);("undefined"==typeof c||null==c)&&(c={}),this.initialize(c)}else this.initialize(a)};QJSON.prototype={dataname:"",cache:{},initialize:function(a){a.constructor=="".constructor?this.load(a):this.cache=a},load:function(a){this.dataname=a,this.cache=JSON.parse(localStorage.getItem(a)),null===this.cache&&(this.cache={},this.save())},save:function(){localStorage.setItem(this.dataname,JSON.stringify(this.cache))},get:function(a){if("undefined"!=typeof this.cache[a])return this.cache[a];if(a.constructor==(new Number).constructor){var b=0;for(var c in this.cache){if(b==a)return this.cache[c];b++}}return null},swap:function(a,b){if(null!==this.get(a)&&null!==this.get(b)){var c=this.get(a);this.set(a,this.get(b)),this.set(b,c)}},set:function(a,b){this.cache[a]=b},add:function(a,b){this.set(a,b)},remove:function(a){var b={};for(var c in this.cache)c!==a&&(b[c]=this.cache[c]);this.cache=b},toString:function(){return JSON.stringify(this.cache)},toJSON:function(){return this.cache},contains:function(a){return"undefined"!=typeof this.cache[a]?!0:!1},length:function(){var a=0;for(var b in this.cache)a++;return a},first:function(){for(var a in this.cache)return this.cache[a]},firstKey:function(){for(var a in this.cache)return a},getIndexOf:function(a){var b=0;for(var c in this.cache){if(c==a)return b;b++}return null}},function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(b,d){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(g=a("img[usemap=#"+f+"]")[0],!!g&&c(g)):!1):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||d:d)&&c(b)}function c(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}a.ui=a.ui||{},a.extend(a.ui,{version:"1.11.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({scrollParent:function(){var b=this.css("position"),c="absolute"===b,d=this.parents().filter(function(){var b=a(this);return c&&"static"===b.css("position")?!1:/(auto|scroll)/.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return"fixed"!==b&&d.length?d:a(this[0].ownerDocument||document)},uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(c){return b(c,!isNaN(a.attr(c,"tabindex")))},tabbable:function(c){var d=a.attr(c,"tabindex"),e=isNaN(d);return(e||d>=0)&&b(c,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,c){function d(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),f&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var e="Width"===c?["Left","Right"]:["Top","Bottom"],f=c.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+c]=function(b){return void 0===b?g["inner"+c].call(this):this.each(function(){a(this).css(f,d(this,b)+"px")})},a.fn["outer"+c]=function(b,e){return"number"!=typeof b?g["outer"+c].call(this,b):this.each(function(){a(this).css(f,d(this,b,!0,e)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(a){a.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(b){if(void 0!==b)return this.css("zIndex",b);if(this.length)for(var c,d,e=a(this[0]);e.length&&e[0]!==document;){if(c=e.css("position"),("absolute"===c||"relative"===c||"fixed"===c)&&(d=parseInt(e.css("zIndex"),10),!isNaN(d)&&0!==d))return d;e=e.parent()}return 0}}),a.ui.plugin={add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c,d){var e,f=a.plugins[b];if(f&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;e<f.length;e++)a.options[f[e][0]]&&f[e][1].apply(a.element,c)}};var d=0,e=Array.prototype.slice;a.cleanData=function(b){return function(c){for(var d,e=0;null!=(d=c[e]);e++)try{a(d).triggerHandler("remove")}catch(f){}b(c)}}(a.cleanData),a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];return b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix||b:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g),g},a.widget.extend=function(b){for(var c,d,f=e.call(arguments,1),g=0,h=f.length;h>g;g++)for(c in f[g])d=f[g][c],f[g].hasOwnProperty(c)&&void 0!==d&&(b[c]=a.isPlainObject(d)?a.isPlainObject(b[c])?a.widget.extend({},b[c],d):a.widget.extend({},d):d);return b},a.widget.bridge=function(b,c){var d=c.prototype.widgetFullName||b;a.fn[b]=function(f){var g="string"==typeof f,h=e.call(arguments,1),i=this;return f=!g&&h.length?a.widget.extend.apply(null,[f].concat(h)):f,this.each(g?function(){var c,e=a.data(this,d);return"instance"===f?(i=e,!1):e?a.isFunction(e[f])&&"_"!==f.charAt(0)?(c=e[f].apply(e,h),c!==e&&void 0!==c?(i=c&&c.jquery?i.pushStack(c.get()):c,!1):void 0):a.error("no such method '"+f+"' for "+b+" widget instance"):a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+f+"'")}:function(){var b=a.data(this,d);b?(b.option(f||{}),b._init&&b._init()):a.data(this,d,new c(f,this))}),i}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,c){c=a(c||this.defaultElement||this)[0],this.element=a(c),this.uuid=d++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),c!==this&&(a.data(c,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===c&&this.destroy()}}),this.document=a(c.style?c.ownerDocument:c.document||c),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(b,c){var d,e,f,g=b;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof b)if(g={},d=b.split("."),b=d.shift(),d.length){for(e=g[b]=a.widget.extend({},this.options[b]),f=0;f<d.length-1;f++)e[d[f]]=e[d[f]]||{},e=e[d[f]];if(b=d.pop(),1===arguments.length)return void 0===e[b]?null:e[b];e[b]=c}else{if(1===arguments.length)return void 0===this.options[b]?null:this.options[b];g[b]=c}return this._setOptions(g),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!b),b&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^([\w:-]*)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}});var f=(a.widget,!1);a(document).mouseup(function(){f=!1});a.widget("ui.mouse",{version:"1.11.0",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!f){this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var c=this,d=1===b.which,e="string"==typeof this.options.cancel&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;return d&&!e&&this._mouseCapture(b)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(b)!==!1,!this._mouseStarted)?(b.preventDefault(),!0):(!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return c._mouseMove(a)},this._mouseUpDelegate=function(a){return c._mouseUp(a)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),f=!0,!0)):!0}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||document.documentMode<9)&&!b.button?this._mouseUp(b):b.which?this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted):this._mouseUp(b)},_mouseUp:function(b){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),f=!1,!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),a.widget("ui.sortable",a.ui.mouse,{version:"1.11.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(a,b,c){return a>=b&&b+c>a},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===a.axis||this._isFloating(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(a,b){this._super(a,b),"handle"===a&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),a.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(b,c){var d=null,e=!1,f=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(b),a(b.target).parents().each(function(){return a.data(this,f.widgetName+"-item")===f?(d=a(this),!1):void 0}),a.data(b.target,f.widgetName+"-item")===f&&(d=a(b.target)),d&&(!this.options.handle||c||(a(this.options.handle,d).find("*").addBack().each(function(){this===b.target&&(e=!0)}),e))?(this.currentItem=d,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(b,c,d){var e,f,g=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),g.containment&&this._setContainment(),g.cursor&&"auto"!==g.cursor&&(f=this.document.find("body"),this.storedCursor=f.css("cursor"),f.css("cursor",g.cursor),this.storedStylesheet=a("<style>*{ cursor: "+g.cursor+" !important; }</style>").appendTo(f)),g.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",g.opacity)),g.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",g.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){var c,d,e,f,g=this.options,h=!1;for(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+g.scrollSpeed:b.pageY-this.overflowOffset.top<g.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-g.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+g.scrollSpeed:b.pageX-this.overflowOffset.left<g.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-g.scrollSpeed)):(b.pageY-a(document).scrollTop()<g.scrollSensitivity?h=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<g.scrollSensitivity&&(h=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed)),b.pageX-a(document).scrollLeft()<g.scrollSensitivity?h=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<g.scrollSensitivity&&(h=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed))),h!==!1&&a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),c=this.items.length-1;c>=0;c--)if(d=this.items[c],e=d.item[0],f=this._intersectsWithPointer(d),f&&d.instance===this.currentContainer&&e!==this.currentItem[0]&&this.placeholder[1===f?"next":"prev"]()[0]!==e&&!a.contains(this.placeholder[0],e)&&("semi-dynamic"===this.options.type?!a.contains(this.element[0],e):!0)){if(this.direction=1===f?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(d))break;this._rearrange(b,d),this._trigger("change",b,this._uiHash());break}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b),this.options.revert){var d=this,e=this.placeholder.offset(),f=this.options.axis,g={};f&&"x"!==f||(g.left=e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),f&&"y"!==f||(g.top=e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,a(this.helper).animate(g,parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l="x"===this.options.axis||d+j>h&&i>d+j,m="y"===this.options.axis||b+k>f&&g>b+k,n=l&&m;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?n:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(a){var b="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height),c="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width),d=b&&c,e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return d?this.floating?f&&"right"===f||"down"===e?2:1:e&&("down"===e?2:1):!1},_intersectsWithSides:function(a){var b=this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),c=this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),d=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?"right"===e&&c||"left"===e&&!c:d&&("down"===d&&b||"up"===d&&!b)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){function c(){h.push(this)}var d,e,f,g,h=[],i=[],j=this._connectWith();if(j&&b)for(d=j.length-1;d>=0;d--)for(f=a(j[d]),e=f.length-1;e>=0;e--)g=a.data(f[e],this.widgetFullName),g&&g!==this&&!g.options.disabled&&i.push([a.isFunction(g.options.items)?g.options.items.call(g.element):a(g.options.items,g.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),g]);for(i.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),d=i.length-1;d>=0;d--)i[d][0].each(c);return a(h)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var c=0;c<b.length;c++)if(b[c]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[],this.containers=[this];var c,d,e,f,g,h,i,j,k=this.items,l=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],m=this._connectWith();if(m&&this.ready)for(c=m.length-1;c>=0;c--)for(e=a(m[c]),d=e.length-1;d>=0;d--)f=a.data(e[d],this.widgetFullName),f&&f!==this&&!f.options.disabled&&(l.push([a.isFunction(f.options.items)?f.options.items.call(f.element[0],b,{item:this.currentItem}):a(f.options.items,f.element),f]),this.containers.push(f));for(c=l.length-1;c>=0;c--)for(g=l[c][1],h=l[c][0],d=0,j=h.length;j>d;d++)i=a(h[d]),i.data(this.widgetName+"-item",g),k.push({item:i,instance:g,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c,d,e,f;for(c=this.items.length-1;c>=0;c--)d=this.items[c],d.instance!==this.currentContainer&&this.currentContainer&&d.item[0]!==this.currentItem[0]||(e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item,b||(d.width=e.outerWidth(),d.height=e.outerHeight()),f=e.offset(),d.left=f.left,d.top=f.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;c>=0;c--)f=this.containers[c].element.offset(),this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var c,d=b.options;d.placeholder&&d.placeholder.constructor!==String||(c=d.placeholder,d.placeholder={element:function(){var d=b.currentItem[0].nodeName.toLowerCase(),e=a("<"+d+">",b.document[0]).addClass(c||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===d?b.currentItem.children().each(function(){a("<td>&#160;</td>",b.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(e)}):"img"===d&&e.attr("src",b.currentItem.attr("src")),c||e.css("visibility","hidden"),e},update:function(a,e){(!c||d.forcePlaceholderSize)&&(e.height()||e.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10)))}}),b.placeholder=a(d.placeholder.element.call(b.element,b.currentItem)),b.currentItem.after(b.placeholder),d.placeholder.update(b,b.placeholder)},_contactContainers:function(b){var c,d,e,f,g,h,i,j,k,l,m=null,n=null;for(c=this.containers.length-1;c>=0;c--)if(!a.contains(this.currentItem[0],this.containers[c].element[0]))if(this._intersectsWith(this.containers[c].containerCache)){if(m&&a.contains(this.containers[c].element[0],m.element[0]))continue;m=this.containers[c],n=c}else this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",b,this._uiHash(this)),this.containers[c].containerCache.over=0);if(m)if(1===this.containers.length)this.containers[n].containerCache.over||(this.containers[n]._trigger("over",b,this._uiHash(this)),this.containers[n].containerCache.over=1);else{for(e=1e4,f=null,k=m.floating||this._isFloating(this.currentItem),g=k?"left":"top",h=k?"width":"height",l=k?"clientX":"clientY",d=this.items.length-1;d>=0;d--)a.contains(this.containers[n].element[0],this.items[d].item[0])&&this.items[d].item[0]!==this.currentItem[0]&&(i=this.items[d].item.offset()[g],j=!1,b[l]-i>this.items[d][h]/2&&(j=!0),Math.abs(b[l]-i)<e&&(e=Math.abs(b[l]-i),f=this.items[d],this.direction=j?"up":"down"));if(!f&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[n])return;f?this._rearrange(b,f,null,!0):this._rearrange(b,null,this.containers[n].element,!0),this._trigger("change",b,this._uiHash()),this.containers[n]._trigger("change",b,this._uiHash(this)),this.currentContainer=this.containers[n],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[n]._trigger("over",b,this._uiHash(this)),this.containers[n].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;return d.parents("body").length||a("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!d[0].style.width||c.forceHelperSize)&&d.width(this.currentItem.width()),(!d[0].style.height||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}
},_setContainment:function(){var b,c,d,e=this.options;"parent"===e.containment&&(e.containment=this.helper[0].parentNode),("document"===e.containment||"window"===e.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"===e.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"===e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||(b=a(e.containment)[0],c=a(e.containment).offset(),d="hidden"!==a(b).css("overflow"),this.containment=[c.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c,d,e=this.options,f=b.pageX,g=b.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),e.grid&&(c=this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1],g=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-e.grid[1]:c+e.grid[1]:c,d=this.originalPageX+Math.round((f-this.originalPageX)/e.grid[0])*e.grid[0],f=this.containment?d-this.offset.click.left>=this.containment[0]&&d-this.offset.click.left<=this.containment[2]?d:d-this.offset.click.left>=this.containment[0]?d-e.grid[0]:d+e.grid[0]:d)),{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():i?0:h.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():i?0:h.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e===this.counter&&this.refreshPositions(!d)})},_clear:function(a,b){function c(a,b,c){return function(d){c._trigger(a,d,b._uiHash(b))}}this.reverting=!1;var d,e=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(d in this._storedCSS)("auto"===this._storedCSS[d]||"static"===this._storedCSS[d])&&(this._storedCSS[d]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!b&&e.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||e.push(function(a){this._trigger("update",a,this._uiHash())}),this!==this.currentContainer&&(b||(e.push(function(a){this._trigger("remove",a,this._uiHash())}),e.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),e.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)))),d=this.containers.length-1;d>=0;d--)b||e.push(c("deactivate",this,this.containers[d])),this.containers[d].containerCache.over&&(e.push(c("out",this,this.containers[d])),this.containers[d].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!b){for(this._trigger("beforeStop",a,this._uiHash()),d=0;d<e.length;d++)e[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!1}if(b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!b){for(d=0;d<e.length;d++)e[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}})}),String.prototype.replaces=function(a,b){return this.replace(a,b)},String.prototype.replaceAll=function(a,b){for(var c=this,d=c.indexOf(a);d>-1;)c=c.replace(a,b),d=c.indexOf(a);return c},String.prototype.contains=function(a){return this.indexOf(a)>-1?!0:!1},Quasar={config:{version:"2.1.2937",name:"Quasar",author:"Wesley Nascimento",contributors:[],get:function(a,b){var c=new QJSON(game_data.player.name);return null===c.get(a)?b:c.get(a)},set:function(a,b){var c=new QJSON(game_data.player.name);c.set(a,b),c.save()}},"interface":{menu:{$buttons:null,$infos:null,$menu:null,$countDown:$("#countDown"),ticker:[],init:function(){premium||Quasar.interface.menu.premiumChanges(),$("#quasar_menu").length>0&&$("#quasar_menu").remove(),$("body").append('<section id="quasar_menu" class="quasar" style="display:none;"></section>'),this.$menu=$("#quasar_menu"),this.addHTML('<div id="quasarTitle" class="title">'+Quasar.config.name+"</br>v"+Quasar.config.version+"</div>"),this.addHTML('<div id="quasarCount" class="section"><div id="countDown" class="timer" style="color: #9E0000; font-weight: 700; text-align: center; font-size: 14px;">00:00:00</div></div>'),this.addHTML('<div id="quasarButtons" class="section"></div>'),this.addHTML('<div id="quasarInfo" class="section"></div>'),this.addHTML('<div id="quasarSlide" class="slider">&raquo;</div>'),this.$buttons=$("#quasarButtons"),this.$infos=$("#quasarInfo"),this.$countDown=$("#countDown"),this.addButton(Quasar.lang.get("auto_farm"),"auto_farm",Quasar.farm.getStatus,Quasar.farm.setStatus),this.addButton(Quasar.lang.get("auto_farm_post"),"auto_farm_post",Quasar.farm_post.getStatus,Quasar.farm_post.setStatus),this.addButton(Quasar.lang.get("wall_drop"),"wall_drop",Quasar.wall.getStatus,Quasar.wall.setStatus),this.addButton(Quasar.lang.get("auto_recruit"),"auto_recuit",Quasar.train.getStatus,Quasar.train.setStatus),this.addButton(Quasar.lang.get("auto_build"),"auto_build",Quasar.main.getStatus,Quasar.main.setStatus),this.addButton(Quasar.lang.get("am_farm"),"am_farm",Quasar.am_farm.getStatus,Quasar.am_farm.setStatus),this.addButton(Quasar.lang.get("dodge"),"dodge",Quasar.dodge.getStatus,Quasar.dodge.setStatus),this.addButton(Quasar.lang.get("coordinator"),"coordinator",Quasar.coordinator.getStatus,Quasar.coordinator.setStatus),this.addButton(Quasar.lang.get("anti_afk"),"anti_afk",Quasar.nucleo.getAFK,null),this.addActionButton(Quasar.lang.get("import_export"),"import",function(){var a="";a+="Used to export and import your Data Storage.",a+='<input type="text" value="" id="import_val" placeholder="Paste your game data here" size="20"><input type="button" value="Import" id="btn_import">',a+='<input type="text" value="" id="export_val" placeholder="Click on export button" size="20"><input type="button" value="Export" id="btn_export">';var b=function(){$("#btn_import").on("click",function(){var a=$("#import_val").val();""!==a&&Quasar.nucleo.importData(a)}),$("#btn_export").on("click",function(){var a=Quasar.nucleo.exportData();$("#export_val").val(a),$("#export_val").focus(),$("#export_val").select()})};Quasar.interface.menu.popupBox(Quasar.lang.get("import_export"),a,400,null,b)}),this.addActionButton(Quasar.lang.get("configuration"),"config",function(){var a=Quasar.interface.menu.configDraw,b=Quasar.interface.menu.configHtml();Quasar.interface.menu.popupBox(Quasar.lang.get("configuration"),b,400,null,a)}),this.addInformation("Ping","ping",function(){$("#ping").text(Number(Loader.timeEnd-Loader.timeStart)+"ms")}),this.addInformation(Quasar.lang.get("attacks_today"),"attackcount",function(){var a=new QJSON("attacks",!0),b=$("#serverDate").text();a.contains(b)||(a.add(b,0),Quasar.config.set("attacks",a.toJSON()));var c=a.get(b);$("#attackcount").text(c)},function(){var a=Quasar.lang.get("attacks_today"),b="";b+='<table class="vis nowrap tall" style="width: 100%"><tbody><tr><th>Date</th><th>Attacks</th></tr>';var c=new QJSON("attacks",!0);for(var d in c.cache)b+="<tr><td>"+d+"</td><td>"+c.get(d)+"</td></tr>";b+="</tbody></table>",Quasar.interface.menu.popupBox(a,b,400,null,null)});var a=Quasar.config.get("slider",!0);this.showHideMenu(a),$("#quasarSlide").on("click",function(){var a=Quasar.config.get("slider",!0);Quasar.config.set("slider",!a),Quasar.interface.menu.showHideMenu(!a)}),$("#quasarLoading").fadeOut("slow"),$("#quasar_menu").show(),this.tick()},addHTML:function(a){this.$menu.append(a)},addButton:function(a,b,c,d){this.$buttons.append('<div id="'+b+'" class="button">'+a+"</div>");var e=$("#"+b),f=function(){c()?e.addClass("active"):e.removeClass("active")};e.on("click",function(){var a=c();d(!a),f()}),f()},addActionButton:function(a,b,c){this.$buttons.append('<div id="'+b+'" class="button action">'+a+"</div>");var d=$("#"+b);d.on("click",c)},addInformation:function(a,b,c,d){"undefined"==typeof d?this.$infos.append("<div><b>"+a+'</b>: <span id="'+b+'"></span></div>'):(this.$infos.append("<div><b>"+a+'</b>: <span id="'+b+'" style="font-weight: 700;color: #603000;"></span></div>'),$("#"+b).on("click",d)),"undefined"!=typeof c&&this.ticker.push(c)},countDown:function(a,b){return 0>a?void b():(this.$countDown.text(Quasar.utils.secToString(a)),void setTimeout(function(){Quasar.interface.menu.countDown(--a,b)},1e3))},popupBox:function(a,b,c,d,e){var f=$("#quasar_popup");if(f.length>0)return void f.fadeTo(500,0,function(){f.remove(),Quasar.interface.menu.popupBox(a,b,c,d,e)});$("body").append('<div id="quasar_popup" class="popup_style ui-draggable" style="position: fixed;"></div>');var g=$("#quasar_popup");g.append('<div class="popup_menu"><span style="float: left;">'+a+'</span><a href="javascript:void(0);" id="closePop">x</a></div>'),$("#closePop").on("click",Quasar.interface.menu.closePop),g.draggable(),g.append('<div class="popup_content">'+b+"</div>"),null!==c?g.css("width",c):g.css("width","auto"),null!==d?g.css("height",d):g.css("height","auto");var h=window.innerWidth/2-c/2,i=window.innerHeight/2-parseInt(g.css("height"))/2;g.css("left",h),g.css("top",i>10?i:10),null!==e&&e(),g.fadeTo(500,1)},closePop:function(){var a=$("#quasar_popup");a.fadeTo(500,0,function(){a.remove()})},showHideMenu:function(a){{var b=$("#quasar_menu");$("#quasarSlide")}a?b.animate({left:"0px"},500):b.animate({left:"-143px"},500)},tick:function(){setTimeout(function(){Quasar.interface.menu.tick()},1e3);for(var a=0;a<this.ticker.length;a++)this.ticker[a]()},premiumChanges:function(){var a=game_data.screen,b=Quasar.utils.getNextVillage(),c=Quasar.utils.getPrevVillage();$("#menu_row2").prepend('<td class="box-item icon-box separate arrowCell" style="display:none;"><a id="village_switch_left" class="village_switch_link" href="?village='+c+"&screen="+a+'" accesskey="a"><span class="arrowLeft"> </span></a></td><td class="box-item icon-box arrowCell" style="display:none;"><a id="village_switch_right" class="village_switch_link" href="?village='+b+"&screen="+a+'" accesskey="d"><span class="arrowRight"> </span></a></td>'),$(".box-item").show(1e3)},configDraw:function(){$("#langSelect").val(Quasar.config.get("language","en")),$("#save").on("click",function(){Quasar.config.set("language",$("#langSelect").val()),Quasar.config.set("min_rand",$("#min_rand").val()),Quasar.config.set("max_rand",$("#max_rand").val()),Quasar.config.set("max_recruit_time",$("#max_recruit_time").val());var a=premium?5:2;Number($("#max_build_queue").val())<=a&&Quasar.config.set("max_build_queue",$("#max_build_queue").val()),Quasar.config.set("am_is_by_ratio",$("#am_is_by_ratio").is(":checked")),Quasar.config.set("attack_control",$("#attack_control").is(":checked")),Quasar.config.set("am_dis_ratio",$("#am_dis_ratio").val()),Quasar.config.set("max_am_dis",$("#max_am_dis").val()),Quasar.config.set("max_am_attacks",$("#max_am_attacks").val()),Quasar.config.set("blue_reports",$("#blue_reports").is(":checked")),Quasar.config.set("yellow_reports",$("#yellow_reports").is(":checked")),Quasar.config.set("use_c_am",$("#use_c_am").is(":checked")),Quasar.config.set("stop_end_farm",$("#stop_end_farm").is(":checked")),Quasar.config.set("max_am_wall",$("#max_am_wall").val()),Quasar.config.set("wall_drop_spy",$("#wall_drop_spy").val()),Quasar.config.set("wall_drop_ram",$("#wall_drop_ram").val()),Quasar.config.set("wall_drop_axe",$("#wall_drop_axe").val()),Quasar.config.set("delete_most_attacked",$("#delete_most_attacked").val());var b=$("#dodge_target").val();Quasar.config.set("dodge_target",""!==b?b:null),UI.SuccessMessage("Suas configurações foram salvas!")})},configHtml:function(){var a="";a+='<div id="tab-general">',a+="<div><strong>Linguagem</strong></br>",a+="<select style='width: 200px' id='langSelect'>";for(var b in Quasar.lang)"undefined"!=typeof Quasar.lang[b].language&&(a+="<option value='"+b+"'>"+Quasar.lang[b].language+"</option>");return a+="</select></div>",a+='<table class="vis" style="width:100%"><tbody>',a+="<tr><th>Descrição</th><th>Valor</th></tr>",a+='<tr><td colspan="2"><strong>Temporalizadores</strong></td></tr>',a+='<tr><td>Tempo minimo para operaçoes aleatorias: </td><td><input type="text" id="min_rand" size="2" value="'+Quasar.config.get("min_rand",300)+'"/>seconds</td></tr>',a+='<tr><td>Tempo maximo para operações aleatorias: </td><td><input type="text" id="max_rand" size="2" value="'+Quasar.config.get("max_rand",900)+'"/>seconds</td></tr>',a+='<tr><td>Tempo maximo de recrutamento: </td><td><input type="text" id="max_recruit_time" size="2" value="'+Quasar.config.get("max_recruit_time",8)+'"/> hours</td></tr>',a+='<tr><td>Quantidade maxima de edificios na fila: </td><td><input type="text" id="max_build_queue" size="2" value="'+Quasar.config.get("max_build_queue",premium?5:2)+'"/></td></tr>',a+='<tr><td>Parar de farmar ao chegar no fim da lista: </td><td><input type="checkbox" id="stop_end_farm" '+(Quasar.config.get("stop_end_farm",!1)?"checked":"")+"/></td></tr>",a+='<tr><td colspan="2"><strong>Assistente de Saque</strong></td></tr>',a+='<tr><td><span title="Limita a distancia maxima a enviar um ataque.">Distancia de ataques maxima:</span></td><td><input type="text" id="max_am_dis" size="2" value="'+Quasar.config.get("max_am_dis",20)+'"/>campos</td></tr>',a+='<tr><td><span title="Limita a quantidade de ataques que podem ser enviados a uma aldeia baseando-se na distancia.">Usar sistema de razão?</span></td><td><input type="checkbox" id="am_is_by_ratio" '+(Quasar.config.get("am_is_by_ratio",!1)?"checked":"")+"/></td></tr>",a+='<tr><td><span title="Quantidade de ataque para cada campo de distancia. Se configurado como 1, vai enviar 1 ataque para cada campo entre o alvo e a aldeia atual. (precisa que "Usar sistema de razão" esteja ativo)">Ataque por campo: </span></td><td><input type="text" id="am_dis_ratio" size="2" value="'+Quasar.config.get("am_dis_ratio",1)+'"/>(Ex: 0.2)</td></tr>',a+='<tr><td><span title="O controlador de ataques prioriza atacar aldeias que tenham menos ataques a caminho, isso previne que as primeiras aldeias da pagina tenham muitos ataques enquanto outras da mesma pagina não tenhão nenhum.">Usar controlador de ataques? </span></td><td><input type="checkbox" id="attack_control" '+(Quasar.config.get("attack_control",!0)?"checked":"")+"/></td></tr>",a+='<tr><td><span title="Configura uma quantidade maxima de ataques a uma aldeia. (Funciona somente se "Usar sistema de razão" estiver desabilitado.)">Quantidade maxima de ataques: </span></td><td><input type="text" id="max_am_attacks" size="2" value="'+Quasar.config.get("max_am_attacks",2)+'"/></td></tr>',a+='<tr><td><span title="Configura o nivel maximo de muralha permitido para um ataque.">Nivel maximo de muralha:</span></td><td><input type="text" id="max_am_wall" size="2" value="'+Quasar.config.get("max_am_wall",3)+'"/></td></tr>',a+='<tr><td><span title="Permite atacar aldeias cujo o ultimo relatorio foi azuis.">Atacar relatorios azuis?: </span></td><td><input type="checkbox" id="blue_reports" '+(Quasar.config.get("blue_reports",!1)?"checked":"")+"/></td></tr>",a+='<tr><td><span title="Move os relatorios amarelho para o derrubador de muralha.">Mover relatorios amarelho?</span></td><td><input type="checkbox" id="yellow_reports" '+(Quasar.config.get("yellow_reports",!0)?"checked":"")+"/></td></tr>",a+='<tr><td><span title="Enviar ataque usando o templace C (Somente se a soma dos recursos for maior que 1000)">Usar o templace C?:</span></td><td><input type="checkbox" id="use_c_am" '+(Quasar.config.get("use_c_am",!0)?"checked":"")+"/></td></tr>",a+='<tr><td><span title="Deleta relatorios que já ultrapassaram o limite de ataques(Libera espaço para que aldeias que ainda nao foram atacadas apareçam na pagina)">Deletar relatorios acima do limite?:</span></td><td><input type="checkbox" id="delete_most_attacked" '+(Quasar.config.get("delete_most_attacked",!1)?"checked":"")+"/></td></tr>",a+='<tr><td colspan="2"><strong>Configurações do Derrubador de Muralhas</strong></td></tr>',a+='<tr><td><span title="Quantidade de exploradores a enviar">Exploradores:</span></td><td><input type="text" id="wall_drop_spy" size="2" value="'+Quasar.config.get("wall_drop_spy",1)+'"/></td></tr>',a+='<tr><td><span title="Quantidade de Arietes a enviar">Arietes:</span></td><td><input type="text" id="wall_drop_ram" size="2" value="'+Quasar.config.get("wall_drop_ram",15)+'"/></td></tr>',a+='<tr><td><span title="Quantidade de Barbaros a enviar">Barbaros:</span></td><td><input type="text" id="wall_drop_axe" size="2" value="'+Quasar.config.get("wall_drop_axe",30)+'"/></td></tr>',a+='<tr><td colspan="2"><strong>Outras</strong></td></tr>',a+='<tr><td>Alvo para dodge: </td><td><input type="text" id="dodge_target" size="3" value="'+Quasar.config.get("dodge_target","")+'"/></td></tr>',a+="</tbody></table>",a+="<div>",a+='<input type="button" id="save" value="Salvar"/>',a+="</div>"}},praca:function(){var a=$('<table class="content-border vis nowrap tall" width="100%" id="build_script" style="opacity:0"><tr><th style="width: 66%">'+Quasar.lang.get("villages")+' [ <a id="ordenar">'+Quasar.lang.get("order")+'</a> | <a id="limpar">'+Quasar.lang.get("clean")+'</a> ]</th></tr><tr><td><input type="text" id="coords" name="name" value="" style="width: 90%;" placeholder="Paste your farm coords here (e.g. 666|666 666|666)">(<span id="current">0</span>/<span id="number">0</span>)</td></tr><tr><td><input type="text" id="wall_coords" name="name" value="" style="width: 90%;" placeholder="Paste wall-drop coords here (e.g. 666|666 666|666)">(<span id="wall_number">0</span>)</td></tr></table></br>');$("#contentContainer").before(a);var b=$("#coords"),c=$("#number"),d=$("#wall_coords"),e=$("#wall_number"),f=Quasar.config.get("index_"+game_data.village.id,0);$("#current").text(f);var g=Quasar.config.get("coords_"+game_data.village.id,[]);b.val(g.join(" ")),c.text(g.length),b.on("change",function(){var a=ele_coords.val().split(" ");c.text(a.length),Quasar.config.set("coords_"+game_data.village.id,a)});var h=Quasar.config.get("wall_coords",[]);d.val(h.join(" ")),e.text(h.length),d.on("change",function(){var a=d.val().split(" ");e.text(a.length),Quasar.config.set("wall_coords",a)}),$("#ordenar").on("click",function(){var a=game_data.village.coord,d=Quasar.utils.orderByDis(a,b.val());b.val(d.join(" ")),c.text(d.length),Quasar.config.set("coords_"+game_data.village.id,d)}),$("#limpar").on("click",function(){var a=Quasar.utils.clean(b.val());b.val(a.join(" ")),c.text(a.length),Quasar.config.set("coords_"+game_data.village.id,a)}),$("#btnOptions").on("click",function(){var a=Quasar.lang.get("option")+" - "+Quasar.lang.get("break_Wall"),b="";Quasar.interface.menu.popupBox(a,b,600,null,null)}),$("#build_script").fadeTo(1e3,1)}},nucleo:{init:function(){if(console.log("Started"),Quasar.lang.init(),null===Quasar.config.get("last_version_used",null)){var a="";a+="<span style='size: 16px; font-weight: bold'>Sobre o Quasar.</span></br>",a+="Quasar é formado por um conjunto de ferramentas, cujo o intuito é fazer com que seja mais pratico jogar TribalWars.</br>",a+="Algumas dessas ferramentas são ilegais segundo as regras do jogo, esteja ciente que o mal uso ou uso excessivo pode causar o banimento de sua conta.</br>",a+="Quasar tem sido desenvolvido por <strong>Wesley Nascimento</strong> desde Novembro de 2013. E vem sido distribuido dentro da licensa Creative Commons.</br>",a+="<br><strong style='size: 16px; font-weight: bold'>Termos de uso e Politica de privacidade</strong></br>",a+="<ul>",a+="<li>O author não se resposabiliza por punições ou banimentos.</li>",a+="<li>Quasar envia informaçoes anonimas sobre seu uso para um servidor externo.</li>",a+="<li>O author não garante suporte ao projeto a longo prazo.</li>",a+="<li>O author se reserva ao direito de mudar esses termos a qualquer momento sem aviso previo ou posterior.</li>",a+="<li>Quasar armazena informações e configurações em seu navegador.</li>",a+="</ul>",a+="<span style='color:#c00; font-weight: bold'>Ao usar o Quasar você automaticamente está ciente e concorda com todos os termos listados acima.</span></br>",a+="<br><span style='size: 16px; font-weight: bold'>Terminando a instalação</span></br>",a+="Para que você possa executar o Quasar sem problemas ou conflitos é preciso que ele obtenha algumas informações da sua conta.</br>",a+="<ul>",a+="<li>Quantidade de aldeias.</li>",a+="<li>Identificação das aldeias.</li>",a+="<li>Se possui conta premium.</li>",a+="<li>Se possui assistente de saques.</li>",a+="<li>Quantidade de ataques chegando.</li>",a+="<li>Se está em modo de ferias.</li>",a+="<li>Se está como sitter.</li>",a+="</ul>",a+="<br>Essas informações serão obtidas automaticamente ao clicar no botão abaixo. Atenção você será redirecionado para outra pagina.</br>",a+="<center><a href='#' id='btn_first_use' class='evt-confirm btn'>Configurar</a></center></br>",a+='<center><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Licença Creative Commons" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/4.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Quasar</span> de <a xmlns:cc="http://creativecommons.org/ns#" href="wesleynascimento.com/quasar" property="cc:attributionName" rel="cc:attributionURL">wesleynascimento.com/quasar</a> está licenciado com uma Licença <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">Creative Commons - Atribuição-NãoComercial 4.0 Internacional</a>.</center>';var b=function(){$("#btn_first_use").on("click",function(){if(0===game_data.player.sitter)location.href="?village="+game_data.village.id+"&screen=overview_villages";else{var a=location.href.match(/t=\d+/i);location.href="?village="+game_data.village.id+"&screen=overview_villages&"+a}Quasar.config.set("last_version_used",Quasar.config.version)})};Quasar.interface.menu.popupBox("Bem vindo ao Quasar!",a,600,null,b)}else if(Quasar.config.get("last_version_used","")!==Quasar.config.version)Quasar.config.set("last_version_used",Quasar.config.version);else{var c=new QJSON("villages",!0),d=game_data.village.coord;c.contains(d)||(c.set(d,game_data.village.id),Quasar.config.set("villages",c.toJSON()))}var e=location.href;if(Quasar.config.set("total_execucoes",Quasar.config.get("total_execucoes",0)+1),$("#bot_check_image").length>0)return void $("body").append('<object height="50" width="100" data="'+Loader.host+'/alarm.mp3"></object>');switch(10==Quasar.utils.random(0,10)&&Quasar.nucleo.abrirPaginaAleatoria(),game_data.screen){case"place":$("#troop_confirm_go").length>0?Quasar.coordinator.getStatus()?Quasar.coordinator.init():Quasar.farm.doConfirm():location.href.indexOf("target")>0||(null===game_data.mode||"command"==game_data.mode)&&(game_data.premium&&Quasar.map.updateAR(),null!==Quasar.config.get("before_dodge_page",null)?Quasar.config.set("before_dodge_page",null):Quasar.farm.init()||Quasar.wall.init()||Quasar.farm_post.init(),Quasar.interface.praca());break;case"map":Quasar.map.init();break;case"overview":Quasar.overview.init(),Quasar.dodge.init();break;case"train":Quasar.train.init();break;case"main":Quasar.main.init();break;case"am_farm":Quasar.am_farm.init();break;case"overview_villages":if(Quasar.overview_villages.init(),"incomings"==game_data.mode&&location.href.indexOf("subtype=attacks")>0){var f=Quasar.config.get("before_identify_page",null);null!==f&&(Quasar.config.set("before_identify_page",null),location.href=f)}break;case"report":e.contains("&view=")&&Quasar.report.view()}Quasar.interface.menu.init()},getAFK:function(){return Quasar.config.get("anti_afk",!0)},setAFK:function(a){Quasar.config.set("anti_afk",a)},abrirPaginaAleatoria:function(){var a=this.getAFK();if(Quasar.config.set("count",0),a){var b="?village="+game_data.village.id+"&screen=",c=["forum","ally","ranking","ranking&mode=con_player","market","smith","statue","farm","barracks","stable","garage","storage","hide","wall"],d=Quasar.utils.random(0,c.length-1),e=c[d];$.get(b+e,function(){})}},importData:function(a){localStorage.setItem(game_data.player.name,a),Loader.goTo()},exportData:function(){return localStorage.getItem(game_data.player.name)}},coordinator:{init:function(){this.UI.init()},UI:{init:function(){var a=$('<span style="display: none">00:00:00</span>'),b=$('<input type="text" value="00" maxlength="2" size="2">'),c=$('<input type="text" value="00" maxlength="2" size="2">'),d=$('<input type="text" value="00" maxlength="2" size="2">'),e=$('<input type="text" value="000" maxlength="3" size="3">'),f=$('<input type="button" value="Coordenar">'),g=$("<div></div>");g.append(b),g.append(c),g.append(d),g.append(e),g.append(f);var h=$("#command-confirm-form");h.append(a),h.append(g),f.on("click",function(){Quasar.coordinator.startTimer(b,c,d,e,a,g)})}},startTimer:function(a,b,c,d,e,f){if(!(Quasar.utils.IsNumeric(a.val())&&Quasar.utils.IsNumeric(b.val())&&Quasar.utils.IsNumeric(c.val())&&Quasar.utils.IsNumeric(d.val())))return void alert("Erro no formato do texto");var g=new Date,h=new Date;h.setMilliseconds(d.val()),h.setMinutes(b.val()),h.setSeconds(c.val()),h.setHours(a.val()),e.text(h.toTimeString()),e.show(),f.hide(),setTimeout(function(){console.log("Attacked"),$("#troop_confirm_go").click()},h.getTime()-g.getTime())},tick:function(){setTimeout(Quasar.coordinator.tick,100);var a=Quasar.utils.stringToSec($("#serverTime").text()),b=Quasar.utils.stringToSec($("#fuckingTimer").text());this.isTicking=!0,console.log(a,b),b==a&&(console.log("Attacked"),$("#troop_confirm_go").click())},getStatus:function(){return Quasar.config.get("coordinator",!1)},setStatus:function(a){Quasar.config.set("coordinator",a)}},main:{niveis:{},init:function(){this.UI.init();Quasar.game.builds;this.load();var a=BuildingMain.update_all;BuildingMain.update_all=function(b){a(b),Quasar.UI.init()},this.getStatus()&&this.build(),Quasar.utils.setReload("&screen=main")},build:function(){var a=Quasar.config.get("queue_"+game_data.village.id,[]);if(a.length>0){var b=a[0];$("#main_buildlink_"+b).is(":visible")&&BuildingMain.order_count<this.getMax()&&(a.shift(),Quasar.config.set("queue_"+game_data.village.id,a),this.load(),BuildingMain.build(b),setTimeout(Quasar.main.build,1e3))}},getMax:function(){return"undefined"==typeof premium||premium===!1?2:Number(Quasar.config.get("max_build_queue",5))},getCurrentNivel:function(a){var b=$("#buildqueue .buildorder_"+a);if(b.length>0)return Number(b.last().find("td:eq(0)").text().match(/\d+/g)[0]);var c=$("#main_buildrow_"+a),d=c.find("span:eq(0)").text().match(/\d+/g),e=Number(c.find("#newNivel").text().match(/\d+/g));if(null!==d){var f=Number(d[0]);return f==e?0:f}return 0},getStatus:function(){return Quasar.config.get("auto_build",!1)},setStatus:function(a){Quasar.config.set("auto_build",a)},load:function(){for(var a,b=Quasar.config.get("queue_"+game_data.village.id,[]),c=[],d=0;d<b.length;d++)a=b[d],""!==a&&null!==a&&"undefined"!=typeof a&&"undefined"!=typeof Quasar.game.builds[a]&&c.push(a);this.niveis={};var e=$("#sortable-list");e.html(""),e.append('<tr><th style="width: 23%">'+Quasar.lang.get("build_queue")+"</th><th>"+Quasar.lang.get("build_level")+"</th><th>"+Quasar.lang.get("price")+'</th><th width="54px"></th></tr>'),$("#main_order").html(""),$("#number").text(c.length);for(var f,g,d=0;d<c.length;d++)g=c[d],f="undefined"!=typeof this.niveis[g]?Number(this.niveis[g])+1:this.getCurrentNivel(g)+1,this.niveis[g]=f,this.UI.addToList(g,f,d);Quasar.main.UI.makeSortable()},UI:{init:function(){var a=$("#build_script");a.length>0&&(a.remove(),$("#img_addBuild").remove()),$("#buildings tr").each(function(a){var b=$(this);if(0==a||b.find("td:eq(1) .inactive").length>0)return b.append("<td></td>"),!0;var c=b.attr("id");b.append("<td id='img_addBuild'><img class='build_cancel' data-ed='"+c+"' title='"+Quasar.lang.get("add_icon_title")+"' src='/graphic/overview/build.png'></img></td>")});var b=$('<div style="margin-bottom: 10px"><table id="build_script" style="opacity:0" class="content-border vis nowrap tall" width="100%"><tr><th style="width: 66%">'+Quasar.lang.get("builds")+'(<span id="number"></span>) <a id="mostrar">'+Quasar.lang.get("show_link")+'</a></th></tr><tr><td id="main_order"></td></tr></table></div><div style="display:none; margin-bottom: 10px"><table id="sortable-list" class="content-border vis nowrap tall" width="100%"></table></div>');$("#contentContainer").before(b),$("#mostrar").on("click",function(){var a=$("#sortable-list").parent(),b=$(this);b.text()==Quasar.lang.get("show_link")?(a.slideDown(),b.text(Quasar.lang.get("hide_link"))):(a.slideUp(),b.text(Quasar.lang.get("show_link")))}),$("#build_script").fadeTo(1e3,1),$("#img_addBuild img").on("click",function(){var a,b=Quasar.config.get("queue_"+game_data.village.id,[]),c=$(this).attr("data-ed").replace("main_buildrow_","");
if(a="undefined"!=typeof Quasar.main.niveis[c]?Quasar.main.niveis[c]+1:Quasar.main.getCurrentNivel(c)+1,a>Quasar.game.builds[c].max)return void UI.ErrorMessage("Edificil já atingiu nivel maximo.");b.push(c),Quasar.config.set("queue_"+game_data.village.id,b),Quasar.main.load(),UI.SuccessMessage("Adicionado "+c+" nivel "+a+" a fila do construtor.");var d=Quasar.utils.stringToSec($("#countDown").text());0>=d&&Quasar.main.getStatus()&&Quasar.utils.setReload("&screen=main")})},makeSortable:function(){$("#sortable-list tbody").sortable({forcePlaceholderSize:!0,cursor:"move",revert:!0,tolerance:"pointer",stop:function(){var a=$(this).sortable("toArray");a.shift(),Quasar.config.set("queue_"+game_data.village.id,a),Quasar.main.load()}}).disableSelection()},addToList:function(a,b,c){var d=Quasar.game.builds[a],e=d.name,f=parseInt(d.wood*Math.pow(d.fwood,b-1)),g=parseInt(d.stone*Math.pow(d.fstone,b-1)),h=parseInt(d.iron*Math.pow(d.firon,b-1)),i=parseInt(d.pop*Math.pow(d.fpop,b-1))-parseInt(d.pop*Math.pow(d.fpop,b-2));$("#sortable-list").append("<tr id='"+a+"' class='sortable_row'><td><a href='?village=43158&screen="+a+"'><img src='graphic/buildings/mid/"+a+"1.png' title='"+e+"' class='bmain_list_img' alt=''></a><a href='?village=43158&screen="+a+"'>"+e+"</a></td><td style='font-size: 0.9em'>"+Quasar.lang.get("build_level")+" "+b+"</td><td><span class='icon header wood'></span>"+f+"<span class='icon header stone'></span>"+g+"<span class='icon header iron'></span>"+h+"<span class='icon header population'></span>"+i+"</td><td><img class='tool_icon icon header' id='remove' data-ed='"+c+"' title='"+Quasar.lang.get("remove_icon_title")+"' src='/graphic/forum/thread_delete.png'></img><img src='/graphic/sorthandle.png' style='width: 11px; height:11px; ursor:pointer' id='move' data-ed='"+c+"'></span></td></tr>"),$("#main_order").append('<img src="/graphic/buildings/mid/'+a+'1.png">');var j=$("#main_buildrow_"+a).find("span:eq(0)");j.find("#newNivel").length>0?j.find("#newNivel").text(" - ("+b+")"):j.append('<span style="font-size: 0.9em; color: #000AFF;" id="newNivel"> - ('+b+")</span>"),$("#sortable-list #remove").last().on("click",function(){var a=Number($(this).attr("data-ed")),b=Quasar.config.get("queue_"+game_data.village.id,[]);b.splice(a,1),Quasar.config.set("queue_"+game_data.village.id,b),Quasar.main.load(),UI.SuccessMessage(a+" removido do construtor.")})}}},map:{size:0,_handleClick:null,coords:[],init:function(){this._handleClick=TWMap.map._handleClick;var a=TWMap.mapHandler.onResizeEnd;TWMap.mapHandler.onResizeEnd=function(){a(),this.doAr()},Quasar.map.UI.init(),Quasar.map.doAR()},updateAR:function(){if(!premium){var a,b,c=[],d=[],e=!0;a="overview"!==game_data.screen?$("table.vis").last().find("tbody tr"):$("table.vis").first().find("tbody tr"),$(a).each(function(){if(e)return void(e=!1);{var a=$(this),f=a.find("img").attr("src"),g=a.find("td:eq(0) span span").text();a.find("td:eq(1)").text()}g.contains("(")&&(b=g.split("(")[1].split(")")[0].replaces("|",""),f.indexOf("return")>-1?-1==c.indexOf(b)&&c.push(b):f.indexOf("attack")>-1&&-1==d.indexOf(b)&&d.push(b))}),Quasar.config.set("map_attacks",d),Quasar.config.set("map_returns",c)}},doSC:function(){for(var a=Quasar.config.get("coords_"+game_data.village.id,[]),b=0;b<a.length;b++)a[b]=Quasar.utils.coordToId(a[b].replaces("|",""));$('[id*="map_village_"]').each(function(){var b=$(this).attr("id").replace("map_village_","");if(a.indexOf(b)>-1){var c=$("#map_village_"+b);c.before('<img class="map_icon_showcoord" style="top: '+c.css("top")+"; left: "+c.css("left")+'; " id="map_icons_'+b+'" src="/graphic/dots/blue.png">')}})},doAR:function(){if(!premium){var a=Quasar.config.get("map_attacks",[]),b=Quasar.config.get("map_returns",[]),c=0;for(c=0;c<a.length;c++)a[c]=Quasar.utils.coordToId(a[c]);for(c=0;c<b.length;c++)b[c]=Quasar.utils.coordToId(b[c]);$('[id*="map_village_"]').each(function(){var c=$(this).attr("id").replace("map_village_","");if(0===$("#map_icons_"+c+".map_icon_3_1").length){var d;b.indexOf(c)>-1&&(d=$("#map_village_"+c),d.before('<img class="map_icon_return"style="top: '+d.css("top")+"; left: "+d.css("left")+';" id="map_icons_'+c+'" src="/graphic/map/return.png">')),a.indexOf(c)>-1&&(d=$("#map_village_"+c),d.before('<img class="map_icon_attack" style="position: absolute; top: '+d.css("top")+"; left: "+d.css("left")+'" id="map_icons_'+c+'" src="/graphic/map/attack.png">'))}})}},handleClick:function(a){var b=$("#quasar-colector textarea"),c=this.coordByEvent(a),d=TWMap.villages[c.join("")];if("undefined"!=typeof d)if(c=c.join("|"),Quasar.map.coords.indexOf(c)<0){Quasar.map.coords.push(c),b.val(Quasar.map.coords.join(" ")),$("#qtdCoords").text(Quasar.map.coords.length);var e=$("#map_village_"+d.id);e.before('<img class="map_icon_collect" style="top: '+e.css("top")+"; left: "+e.css("left")+'; " id="map_icons_'+d.id+'" src="/graphic/dots/red.png">')}else Quasar.map.coords.splice(c,1),b.val(Quasar.map.coords.join(" ")),$("#qtdCoords").text(Quasar.map.coords.length),$("#map_icons_"+d.id+".map_icon_collect").remove();return!1},resize:function(a){premium||(Quasar.config.set("map_size",a),TWMap.resize(a),this.size=a)},UI:{ele_quasar:null,init:function(){$("#map_config").after('<br><table class="vis" width="100%" style="border-spacing:0px;border-collapse:collapse;"><tbody id="quasarMap"><tr><th colspan="3">Quasar Options</th></tr></tbody></table><br/><table class="vis" width="100%" id="quasar-colector" style="display:none;"><tr><th>Coords(<span id="qtdCoords">0</span>)</th></tr><tr><td style="text-align:center"><textarea style="width:100%;background:none;border:none;resize:none;font-size:11px;"></textarea></td></tr></table>'),$("#fullscreen").attr("style","display: block;").attr("onclick","TWMap.premium = true; TWMap.goFullscreen();").attr("title","FullScreen - Quasar Bot"),this.ele_quasar=$("#quasarMap"),this.appendMenu('<a id="btn_colect" class="btn">'+Quasar.lang.get("colect_coords")+"</a>"),this.appendMenu('<a id="btn_showcoords" class="btn">'+Quasar.lang.get("show_coords")+"</a>"),$("#btn_colect").on("click",function(){var a=$(this).attr("class");"btn"===a?($("#quasar-colector").show(500),TWMap.map._handleClick=Quasar.map.handleClick,$(this).attr("class","btn btn-confirm-yes")):($("#quasar-colector").hide(500),$(".map_icon_collect").remove(),Quasar.map.coords=[],$("#quasar-colector textarea").val(""),$("#qtdCoords").text(Quasar.map.coords.length),TWMap.map._handleClick=Quasar.map._handleClick,$(this).attr("class","btn"))}),$("#btn_showcoords").on("click",function(){var a=$(this).attr("class");"btn"===a?(Quasar.map.doSC(),$(this).attr("class","btn btn-confirm-yes")):($(".map_icon_showcoord").remove(),$(this).attr("class","btn"))}),Quasar.map.UI.premiumChanges()},appendMenu:function(a){this.ele_quasar.append("<tr><td align='center'>"+a+"</td></tr>")},premiumChanges:function(){if(!premium){this.appendMenu(Quasar.lang.get("map_size")+': <select id="size-change" style="width: 65px"><option value="4">4x4</option><option value="5">5x5</option><option value="7">7x7</option><option value="9">9x9</option><option value="11">11x11</option><option value="13">13x13</option><option value="15">15x15</option><option value="20">20x20</option><option value="30">30x30</option></select>');var a=Quasar.config.get("map_size",13),b=$("#size-change");b.val(a),Quasar.map.resize(a),b.on("change",function(){var a=Number($(this).val());Quasar.map.resize(a)})}}}},overview:{init:function(){Quasar.map.updateAR(),Quasar.overview.UI.init()},UI:{init:function(){premium||this.premiumChanges()},premiumChanges:function(){var a='<div id="show_notes" class="vis moveable widget" style="display:none;"><h4 class="head"><img style="float: right; cursor: pointer;" src="graphic/minus.png">'+Quasar.lang.get("village_notes")+'</h4><div class="widget_content" style="display: block;"><table width="100%"><tbody><tr><td id="village_note"></td></tr><tr><td><a id="edit_notes_link" href="javascript:void(0);">» Editar</a></td></tr></tbody></table></div></div>';$("#show_summary").after(a),Quasar.overview.UI.load_notes(),$("#show_notes").show(1e3),$("#edit_notes_link").on("click",function(){Quasar.overview.UI.edit_notes($("#village_note"),Quasar.lang.get("village_notes"))})},load_notes:function(){var a=new QJSON("notes",!0),b=game_data.village.id,c=null!==a.get(b)?a.get(b):"";$("#village_note").html(c)},edit_notes:function(a,b){var c=new QJSON("notes",!0),d=game_data.village.id,e=null!==c.get(d)?c.get(d).replace(/<br>/g,"\n"):"";b=Quasar.lang.get("village_notes");var f='<div><textarea id="message" name="note" rows="10" cols="40">'+e+'</textarea></div><div><input type="button" id="ok_note" value="OK" class="btn"></div>',g=function(){$("#ok_note").on("click",function(){var a=$("#message").val().replace(/\n/g,"<br>"),b=new QJSON("notes",!0);b.set(game_data.village.id,a),Quasar.config.set("notes",b),Quasar.overview.UI.load_notes()})};Quasar.interface.menu.popupBox(b,f,400,null,g)}}},overview_villages:{init:function(){this.UI.init(),this.saveVillages()},saveVillages:function(){var a=new QJSON("villages",!0);$("#production_table .row_a, #production_table .row_b").each(function(){var b=$(this).find("td:eq(0) span a span"),c=b.text().split("(")[1].split(")")[0],d=b.attr("id").replace("label_text_","");a.set(c,d)}),Quasar.config.set("villages",a.toJSON())},changeName:function(a,b){$.post("?village="+a+"&action=change_name&h=ddbf&screen=main",{name:b},function(){console.log("FUN")})},UI:{init:function(){}}},farm_post:{can:!0,init:function(){return Quasar.farm_post.getStatus()?($(".troop_template_selector").each(function(){return $(this).click(),Quasar.farm_post.canAttack()?Quasar.farm_post.doAttack():void 0}),Quasar.utils.setReload("&screen=place"),!1):!1},canAttack:function(){var a=Quasar.config.get("coords_"+game_data.village.id,[]);return a.length<1?!1:($("input[class='unitsInput']").each(function(){var a=$(this).val(),b=$(this).parent().find("a").text();b=b.replaces("(",""),b=b.replaces(")",""),b=Number(b),null!==a&&""!==a&&a>b&&(Quasar.farm_post.can=!1)}),Quasar.farm_post.can)},cleanInputs:function(){$("input[class='unitsInput']").each(function(){var a=Number($(this).val()),b=$(this).parent().find("a:eq(1)").text();b=b.replaces("(",""),b=b.replaces(")",""),b=Number(b),null!==a&&""!==a&&0!==a&&(a>b||$(this).parent().find("a:eq(1)").text("("+(b-a)+")"))})},doAttack:function(){var a=Quasar.config.get("index_"+game_data.village.id,0)+1,b=Quasar.config.get("coords_"+game_data.village.id,[]);if(b.length<1)return!1;if(a>b.length-1){var c=Quasar.config.get("stop_end_farm",!1);if(c)return;a=0}Quasar.config.set("index_"+game_data.village.id,a),Quasar.farm.addAttack(),$("#current").text(a);var d=game_data.village.id,e=b[a],f={x:e.split("|")[0],y:e.split("|")[1],attack:!0};for(var g in Quasar.game.units){var h=Number($("#unit_input_"+g).val());f[g]=h}return Quasar.farm_post.cleanInputs(),$.ajax({url:"?village="+d+"&try=confirm&screen=place",type:"post",data:f,success:function(a){if($('img[src="?captcha"]',a).length||$("#error",a).length)return Quasar.farm_post.can=!1,!1;var b=$("form",a);$.post(b[0].action,b.serialize(),function(a){return $('img[src="?captcha"]',a).length||$("#error",a).length?(Quasar.farm_post.can=!1,!1):void 0})}}),!0},getStatus:function(){return Quasar.config.get("auto_farm_post",!1)},setStatus:function(a){Quasar.config.set("auto_farm_post",a),a&&(Quasar.farm.setStatus(!1),$("#auto_farm").removeClass("active"))}},farm:{init:function(){if(!Quasar.farm.getStatus())return!1;var a=!1;return $(".troop_template_selector").each(function(){return a?!0:($(this).click(),void(Quasar.farm.canAttack()&&(a=Quasar.farm.doAttack())))}),Quasar.utils.setReload("&screen=place"),!1},canAttack:function(){var a=!0,b=Quasar.config.get("coords_"+game_data.village.id,[]);return b.length<1?!1:($("input[class='unitsInput']").each(function(){var b=$(this).val(),c=$(this).parent().find("a").text();c=c.replaces("(",""),c=c.replaces(")",""),null!==b&&""!==b&&Number(c)<b&&(a=!1)}),a)},doAttack:function(){var a=Quasar.config.get("index_"+game_data.village.id,0)+1,b=Quasar.config.get("coords_"+game_data.village.id,[]);if(b.length<1)return!1;if(a>b.length-1){var c=Quasar.config.get("stop_end_farm",!1);if(c)return;a=0}var d=b[a];return $("input[name='input']").val(d),Quasar.config.set("index_"+game_data.village.id,a),Quasar.farm.addAttack(),setTimeout(function(){$("#target_attack").click()},Quasar.utils.random(500,2500)),!0},doConfirm:function(){setTimeout(function(){$("#troop_confirm_go").click()},Quasar.utils.random(500,2500))},addAttack:function(){var a=new QJSON("attacks",!0),b=$("#serverDate").text();if(a.contains(b)){var c=a.get(b)+1;a.set(b,c)}else a.add(b,0);Quasar.config.set("attacks",a.toJSON())},getStatus:function(){return Quasar.config.get("auto_farm",!1)},setStatus:function(a){Quasar.config.set("auto_farm",a),a&&(Quasar.farm_post.setStatus(!1),$("#auto_farm_post").removeClass("active"))}},planner:{init:function(){for(var a,b,c,d,e,f,g=Quasar.config.get("plan",[]),h=function(){Quasar.planner.attack(i)},i=0;i<g.length;i++)a=new QJSON(g[i]),e=a.get("day"),d=a.get("hour"),b=new Date,c=new Date(e.split("/")[2],e.split("/")[1],e.split("/")[0],d.split(":")[0],d.split(":")[1],d.split(":")[2],d.split(":")[3]),f=b-c,f>0&&setTimout(h,time)},attack:function(){},showPOP:function(){var a="<h3>NOT WORKING YET</h3>",b='<table class="vis" width="100%"><tbody><tr>';b+='<td><table class="vis" width="100%"><tbody>',b+='<tr><td class="nowrap"><img src="/graphic/unit/unit_spear.png" alt="" class=""> <input id="plan_input_spear" name="spear" type="text" style="width: 40px" tabindex="1" value="" class="unitsInput"></td></tr>',b+='<tr><td class="nowrap"><img src="/graphic/unit/unit_sword.png" alt="" class=""> <input id="plan_input_sword" name="sword" type="text" style="width: 40px" tabindex="2" value="" class="unitsInput"></td></tr>',b+='<tr><td class="nowrap"><img src="/graphic/unit/unit_axe.png" alt="" class=""> <input id="plan_input_axe" name="axe" type="text" style="width: 40px" tabindex="3" value="" class="unitsInput"></td></tr>',b+='<tr><td class="nowrap"><img src="/graphic/unit/unit_archer.png" alt="" class=""> <input id="plan_input_archer" name="archer" type="text" style="width: 40px" tabindex="4" value="" class="unitsInput"></td></tr>',b+="</tbody></table></td>",b+='<td><table class="vis" width="100%"><tbody>',b+='<tr><td class="nowrap"><img src="/graphic/unit/unit_spy.png" alt="" class=""> <input id="plan_input_spy" name="spy" type="text" style="width: 40px" tabindex="5" value="" class="unitsInput"></td></tr>',b+='<tr><td class="nowrap"><img src="/graphic/unit/unit_light.png" alt="" class=""> <input id="plan_input_light" name="light" type="text" style="width: 40px" tabindex="6" value="" class="unitsInput"></td></tr>',b+='<tr><td class="nowrap"><img src="/graphic/unit/unit_marcher.png" alt="" class=""> <input id="plan_input_marcher" name="marcher" type="text" style="width: 40px" tabindex="7" value="" class="unitsInput"></td></tr>',b+='<tr><td class="nowrap"><img src="/graphic/unit/unit_heavy.png" alt="" class=""> <input id="plan_input_heavy" name="heavy" type="text" style="width: 40px" tabindex="8" value="" class="unitsInput"></td></tr>',b+="</tbody></table></td>",b+='<td><table class="vis" width="100%"><tbody>',b+='<tr><td class="nowrap"><img src="/graphic/unit/unit_ram.png" alt="" class=""> <input id="plan_input_ram" name="ram" type="text" style="width: 40px" tabindex="9" value="" class="unitsInput"></td></tr>',b+='<tr><td class="nowrap"><img src="/graphic/unit/unit_catapult.png" alt="" class=""> <input id="plan_input_catapult" name="catapult" type="text" style="width: 40px" tabindex="10" value="" class="unitsInput"></td></tr>',b+='<tr><td class="nowrap"><img src="/graphic/unit/unit_knight.png" alt="" class=""> <input id="plan_input_knight" name="knight" type="text" style="width: 40px" tabindex="11" value="" class="unitsInput"></td></tr>',b+='<tr><td class="nowrap"><img src="/graphic/unit/unit_snob.png" alt="" class=""> <input id="plan_input_snob" name="snob" type="text" style="width: 40px" tabindex="12" value="" class="unitsInput"></td></tr>',b+="</tbody></table></td>",b+='<td><table class="vis" width="100%"><tbody>',b+='<tr><td class="nowrap">Day: <input id="input_day" type="text" style="width: 80px; float: right" tabindex="13" value="" class="unitsInput" size="10" placeholder="day/month/year"></td></tr>',b+='<tr><td class="nowrap">Hour: <input id="input_hour" type="text" style="width: 80px; float: right" tabindex="14" value="" class="unitsInput" size="12" placeholder="00:00:00:000"></td></tr>',b+='<tr><td class="nowrap">Coord: <input id="input_coord" type="text" style="width: 80px; float: right" tabindex="15" value="" class="unitsInput" placeholder="xxx|yyy"></td></tr>',b+='<tr><td class="nowrap">From: '+game_data.village.coord+'<input id="button_save" type="button" tabindex="16" value="'+Quasar.lang.get("save")+'" style="float: right" class="unitsInput"></td></tr>',b+="</tbody></table></td>",b+="</tr></tbody></table>";var c="",d=Quasar.config.get("plan",[]);c+='<table class="vis" width="100%"><tbody>';for(var e=0;e<d.length;e++){var f=new QJSON(d[e]);c+="<tr>";for(var g in f.cache)"day"!==g&&"hour"!==g&&"coord"!==g&&0!==f.get(g)&&(c+='<td><img src="/graphic/unit/unit_'+g+'.png">'+f.get(g)+"</td>");c+="<td>"+f.get("coord")+"</td>",c+="<td>"+f.get("day")+"</td>",c+="<td>"+f.get("hour")+"</td>",c+='<td><img class="tool_icon icon header" id="button_remove" data-ed="'+e+'" title="remove" src="/graphic/forum/thread_delete.png"></td>',c+="</tr>"}c+="</tbody></table>";var h=function(){$("#button_save").on("click",function(){var a,b=!0,c=Quasar.config.get("plan",[]),d=new QJSON("lastAttack");for(var e in Quasar.game.units)a=Number($("#plan_input_"+e).val()),d.set(e,a),0!==a&&(b=!1);var f=$("#input_day").val(),g=$("#input_hour").val(),h=$("#input_coord").val();d.set("day",f),d.set("hour",g),d.set("coord",h),b||null===g||""===g||null===f||""===f||null===h||""===h?alert("Error algum campo necessario esta em branco."):4==g.split(":").length&&3==f.split("/").length&&2==h.split("|").length?(c.push(d.toJSON()),Quasar.config.set("plan",c),Quasar.interface.menu.closePop()):alert("Erro no formato de hora, data ou coord.")}),$("#button_remove").on("click",function(){var a=$(this).attr("data-ed"),b=Quasar.config.get("plan",[]);b.splice(a,1),Quasar.config.set("plan",b),$(this).parent().parent().remove()})},i=a+b+c;Quasar.interface.menu.popupBox(Quasar.lang.get("planner"),i,450,null,h)}},report:{init:function(){Quasar.report.UI.init()},UI:{init:function(){$("#content_value").prepend('<div id="menu_script" style="display:none;"><table class="vis nowrap tall" style="width: 100%"><tr><th style="width: 66%">Menu</th></tr><tr><td><input id="clean" class="btn" type="button" value="Clean Villages"></td></tr></table></div>');var a="";$("btn_wall_drop").on("click",function(){Quasar.wall.attack(a[0],a[1])}),$("#menu_script").show(1e3)}},view:function(){var a=$("#attack_info_def .village_anchor a");if(!(a.length<1)){var b=a.text().split("(")[1].split(")")[0],c=$('<td><img src="/graphic/buildings/wall.png" title="Add to drop list"/></td>').on("click",function(){Quasar.wall.save(b,$(this))}),d=$('<td><img src="/graphic/map/attack.png" title="Add to farm list"/></td>').on("click",function(){var a=Quasar.config.get("coords_"+game_data.village.id,[]);!a.indexOf(b)>-1?(a.push(b),Quasar.config.set("coords_"+game_data.village.id,a),$(this).addClass("success")):$(this).addClass("fail")}),e=$('<td><img src="/graphic/map/return.png" title="Remove from farm list"/></td>').on("click",function(){var a=Quasar.config.get("coords_"+game_data.village.id,[]);a.indexOf(b)>-1?(a.splice(b,1),Quasar.config.set("coords_"+game_data.village.id,a),$(this).addClass("success")):$(this).addClass("fail")}),f=$("tr:first","#attack_results ");f.append(c),f.append(d),f.append(e)}}},wall:{init:function(){if(!Quasar.wall.getStatus())return!1;var a=this.getUnits(),b=Quasar.config.get("wall_coords",[]);if(b.length<=0||!Quasar.wall.hasUnits())return!1;Quasar.wall.cleanInputs();for(var c=0;c<a.length;c++)$("#unit_input_"+a[c][0]).val(a[c][1]);var d=Quasar.utils.orderByDis(game_data.village.coord,b),e=d[0];return $("input[name='input']").val(e),d.shift(),Quasar.config.set("wall_coords",d),$("#target_attack").click(),!0},cleanInputs:function(){$(".unitsInput").each(function(){$(this).val(0)})},getUnits:function(){var a=[];return a.push(["spy",Quasar.config.get("wall_drop_spy",1)]),a.push(["ram",Quasar.config.get("wall_drop_ram",15)]),a.push(["axe",Quasar.config.get("wall_drop_axe",30)]),a},hasUnits:function(){for(var a=this.getUnits(),b=0;b<a.length;b++){var c=$("#unit_input_"+a[b][0]).next("a").text().match(/\d+/g)[0];if(Number(c)<Number(a[b][1]))return!1}return!0},canAttack:!0,attack:function(a,b,c){if(!Quasar.wall.canAttack)return void $("#"+c).parent().addClass("fail");var d=game_data.village.id,e={x:a,y:b,attack:!0};for(var f in Quasar.game.units)e[f]=0;e.spy=Quasar.config.get("wall_drop_spy",1),e.ram=Quasar.config.get("wall_drop_ram",15),e.axe=Quasar.config.get("wall_drop_axe",45),$.ajax({url:"?village="+d+"&try=confirm&screen=place",type:"post",data:e,success:function(a){if($('img[src="?captcha"]',a).length||$("#error",a).length)return $("#"+c).parent().addClass("fail"),Quasar.wall.canAttack=!1,!1;var b=$("form",a);$.post(b[0].action,b.serialize(),function(){return $('img[src="?captcha"]',a).length||$("#error",a).length?($("#"+c).parent().addClass("fail"),Quasar.wall.canAttack=!1,!1):void $("#"+c).parent().addClass("success")})}})},save:function(a,b){var c=Quasar.config.get("wall_coords",[]);-1===c.indexOf(a)?(c.push(a),Quasar.config.set("wall_coords",c),b.addClass("success")):b.addClass("fail")},getStatus:function(){return Quasar.config.get("break_wall")},setStatus:function(a){Quasar.config.set("break_wall",a)}},am_farm:{jump:!1,cicle:0,rows:0,init:function(){Quasar.am_farm.UI.init(),Quasar.am_farm.getStatus()&&(Quasar.am_farm.doAttacks(),Quasar.utils.setReload("&order=distance&dir=asc&screen=am_farm"))},doAttacks:function(){var a=0,b=Quasar.config.get("am_is_by_ratio",!1),c=Number(Quasar.config.get("max_am_attacks",2)),d=Number(Quasar.config.get("am_dis_ratio",1)),e=Quasar.config.get("attack_control",!0),f=Number(Quasar.config.get("max_am_dis",20)),g=Quasar.config.get("blue_reports",!1),h=Quasar.config.get("yellow_reports",!0),i=Quasar.config.get("use_c_am",!0),j=Number(Quasar.config.get("max_am_wall",3)),k=Quasar.am_farm.getTemplateRes("0"),l=Quasar.config.get("delete_most_attacked",!1),m=$(".row_a:visible, .row_b:visible","#am_widget_Farm");m.each(function(n){var o=$(this);a+=Quasar.utils.random(300,500),setTimeout(function(){if($(".error").length>0&&$(".error").length&&(Quasar.am_farm.jump=!0),!Quasar.am_farm.jump){Quasar.am_farm.rows++;var a=Quasar.am_farm.cicle;n!=m.length-1||!b&&a>c&&b&&a>d*f||(Quasar.am_farm.cicle++,setTimeout(Quasar.am_farm.doAttacks,500));var p=(o.attr("class").split(" ")[0],o.find("td:eq(0) a")),q=o.find(".farm_icon_a"),r=o.find(".farm_icon_b"),s=o.find(".farm_icon_c"),t=o.find("td:eq(3) a").text().split(")")[0].split("(")[1],u=0;o.find("td:eq(5) .res").each(function(){u+=Number($(this).text().replace(".",""))});var v=Number("?"==o.find("td:eq(6)").text()?-1:o.find("td:eq(6)").text()),w=!1,x=o.find("td:eq(2) img");x.length>0&&(w=null!==x.attr("src").match(/1.png/g)?!0:!1);var y=(null!==o.find("td:eq(1) img").attr("src").match(/green.png/g)?!0:!1,null!==o.find("td:eq(1) img").attr("src").match(/blue.png/g)?!0:!1),z=null!==o.find("td:eq(1) img").attr("src").match(/yellow.png/g)?!0:!1,A=null!==o.find("td:eq(1) img").attr("src").match(/red.png/g)?!0:!1,B=Number(o.find("#attacks").text()),C=Number(o.find("td:eq(7)").text());if(e&&B>Quasar.am_farm.cicle)return!1;if(C>f)return!1;if(b&&B>=d*C&&0!==B)return l&&p.click(),!1;if(!b&&B>=c)return l&&p.click(),!1;if(A)return p.click(),!0;if(y&&!g)return!1;if(z&&h&&-1==v||v>j)return 0===B&&Quasar.wall.save(t,o.find("#wall").parent()),!1;if(s.length>0&&i)0===B&&u>=k&&(s.click(),Quasar.farm.addAttack());else if(q.length>0&&Quasar.am_farm.hasTroop("0"))q.click(),Quasar.farm.addAttack();else{if(!(r.length>0&&Quasar.am_farm.hasTroop("1")))return!0;r.click(),Quasar.farm.addAttack()}o.hide()}},a)})},hasTroop:function(a){var b=!0;return $("form:eq("+a+") tr:eq(1) input").each(function(){var a=$(this).attr("name"),c=Number($(this).val()),d=Number($("#units_home #"+a).text());c>d&&(b=!1)}),b},getTemplateRes:function(a){return Number($("form:eq("+a+") tr:eq(1) td:eq(6)").text())},UI:{init:function(){$("#plunder_list tbody tr:eq(0) ").append('<th><img src="/graphic/buildings/wall.png?"/></th><th><img src="/graphic/command/attack.png"/></th>');var a=0;$(".row_a, .row_b").each(function(){a+=100;var b=$(this);setTimeout(function(){var a=(b.attr("class").split(" ")[0],b.find("td:eq(3) a").text().split(")")[0].split("(")[1]),c=b.find("td:eq(3) img"),d=0;c.length>0&&(c.mouseover(),d=$("#tooltip h3").text().replace(/\D/g,""),c.mouseout());var e=$('<td><img id="wall" src="/graphic/buildings/wall.png?"/></td>').on("click",function(){Quasar.wall.save(a,$(this))});b.append(e),b.append('<td id="attacks">'+d+"</td>")},a)})}},getStatus:function(){return Quasar.config.get("am_farm",!1)},setStatus:function(a){Quasar.config.set("am_farm",a)}},dodge:{init:function(){game_data.player.premium&&this.renameAttacks(),Quasar.dodge.getStatus()&&game_data.player.incomings>0&&null!==Quasar.dodge.getDodgeVillage()&&(this.UI.showAlert(),this.attack()),this.cancel(),Quasar.utils.setReload("&screen=overview")},renameAttacks:function(){var a=Quasar.config.get("incoming_attacks",0);a<game_data.player.incomings&&Quasar.interface.menu.popupBox("Incoming attacks","Loading page...",1200,null,function(){$("#quasar_popup").load("?village="+game_data.village.id+"&mode=incomings&subtype=attacks&screen=overview_villages",function(a){var b=$(a);Quasar.config.set("before_identify_page",location.href),b.find("#select_all").click(),b.find("#incomings_form input[name='label']").click()})}),a!=game_data.player.incomings&&Quasar.config.set("incoming_attacks",game_data.player.incomings)},cancel:function(){},attack:function(){var a=Quasar.dodge.getAttackTime();null!==a&&(60>=a?Quasar.dodge.sendAttack():setTimeout(function(){Quasar.dodge.sendAttack()},1e3*(a-60)))},sendAttack:function(){Quasar.interface.menu.popupBox("Dodging","Loading page...",1200,null,function(){Quasar.config.set("before_dodge_page",location.href),$("#quasar_popup").load("?village="+game_data.village.id+"&screen=place",function(a){var b=$(a),c=Quasar.dodge.getAttackVillage();null!==c&&(b.find("input[name='input']").val(c),b.find(".unitsInput").each(function(){var a=$(this),b=a.next("a").html(),c=b.substr(1).substr(0,b.length-2);a.val(c)}),b.find("#target_attack").click())})})},hasTroop:function(){var a=!1;return $(".unitsInput").each(function(){var b=$(this);return""!==b.val()&&Number(b.val())>0?(a=!0,!1):void 0}),a},UI:{showAlert:function(){if(Quasar.dodge.getStatus()&&game_data.player.incomings>0){var a=$("#dodge");a.hasClass("alert")?a.removeClass("alert"):a.addClass("alert"),setTimeout(Quasar.dodge.UI.showAlert,1e3)}}},getDodgeVillage:function(){return Quasar.config.get("dodge_target",null)},getAttackTime:function(){var a=$(".no_ignored_command:first");if(a.length>0){var b=a.find("td:eq(2) span").text();return Quasar.utils.stringToSec(b)}return null},getStatus:function(){return Quasar.config.get("dodge",!1)},setStatus:function(a){Quasar.config.set("dodge",a)}},lang:{init:function(){this.cache=Quasar.config.get("language","br")},cache:"br",get:function(a){return Quasar.lang[this.cache][a]},br:{save:"Salvar",count:"Contador",language:"Portugues",yes:"sim",no:"nao",auto_farm:"Farmador",auto_farm_post:"Farmador Silencioso",auto_recruit:"Recrutador",anti_afk:"Anti-Captcha",auto_build:"Construtor",coordinator:"Coordenador",dodge:"Dodge",planner:"Planejador (Preview)",update_notes:"Sobre",wall_drop:"Derrubar muralha",am_farm:"Auto AS",attacks_today:"Ataques hoje",order_recruit:"Ordem",option:"Opções",units:"Unidades",opt_title:"Opções de recrutamento",build_queue:"Fila de construção",build_level:"Nivel",price:"Custo",hide_link:"Esconder",show_link:"Mostrar",builds:"Contruções",add_icon_title:"Adicionar a fila",remove_icon_title:"Remover da fila",villages:"Aldeias",order:"Ordenar",clean:"Limpar",anti_afk_msg:"Para o anti-captcha funcionar corretamente é necessario desbloquear os\npopups do site no seu navegador.",village_notes:"Notas da aldeia",colect_coords:"Coletar coordenadas",show_coords:"Mostrar coordenadas",map_size:"Tamanho do mapa",configuration:"Configuracoes",import_export:"Importar/Exportar"}},train:{_temp_storage:{},init:function(){if(Quasar.train.UI.init(),Quasar.train.getStatus()){if(this.fillUnitTimes(),this.isSequential())Quasar.train.sequentialRecruitment(),Quasar.train.UI.updateType();else{Quasar.train.numericalRecruitment(0),Quasar.train.UI.updateType();var a=$("input[type='submit']");a.hasClass("btn-recruit-disabled")||a.click()}Quasar.utils.setReload("&screen=train")}},fillUnitTimes:function(){var a=this;$("div.recruit_req").each(function(){var b=$(this),c=b.find("span:last"),d=c.attr("id").split("_"+unit_build_block.village_id+"_cost_time")[0],e=Quasar.utils.stringToSec(c.text()),f=b.parent().parent().find("td:eq(2)"),g=f.text().split("/")[1],h={many:g,time:e};a._temp_storage[d]=h})},isSequential:function(){return Quasar.config.get("sequential_recruitment",!0)},queueLimite:function(){return 60*Number(Quasar.config.get("max_recruit_time",8))*60},numericalRecruitment:function(a){var b=Quasar.config.get("recruitment_numerical_"+game_data.village.id,[]);if(!(b.length<1||a>b.length-1)){var c,d=b[a][0],e=Number(b[a][1]),f=Quasar.game.units[d].ed,g=this._temp_storage[d],h="undefined"!=typeof g?g.time:0,i="undefined"!=typeof g?g.many:0,j=$("#"+d+"_"+unit_build_block.village_id);if(j.length>0){var k=Number($("#"+d+"_"+unit_build_block.village_id+"_a").text().replaces(")","").replaces("(",""));if(k>0&&this.queueLimite()>0&&e>=i){c=k>=e?e:k;var l=h*c;for(console.log(d,c,"time: ",h,"queue",this.getQueueTime(f));this.getQueueTime(f)+l>this.queueLimite()&&c>0;)l=h*--c;c>0&&(j.val(c),unit_build_block._onchange())}}this.numericalRecruitment(++a)}},sequentialRecruitment:function(){var a=Quasar.config.get("recruitment_sequential_"+game_data.village.id,[]),b=Quasar.config.get("train_index_"+game_data.village.id,0);if(!(a.length<1)){b>a.length-1&&(b=0);var c=a[b],d=Quasar.game.units[c].ed,e=$("#"+c+"_"+unit_build_block.village_id);if(e.length>0){var f=Number($("#"+c+"_"+unit_build_block.village_id+"_a").text().replaces(")","").replaces("(",""));if(f>=1){var g=Number(e.val())+1,h=this._temp_times[c],i=h*g;if(this.getQueueTime(d)+i<this.queueLimite()){e.val(g),Quasar.config.set("train_index_"+game_data.village.id,++b),unit_build_block._onchange(),this.sequentialRecruitment();var j=$("input[type='submit']");return void(j.hasClass("btn-recruit-disabled")||(j.click(),setTimeout(Loader.goTo,2e3)))}}}}},getQueueTime:function(a){if($("#trainqueue_"+a).length<1)return 0;var b=0;$("#trainqueue_"+a+" .sortable_row").each(function(){var a=$(this).find("td:eq(1)").text();b+=Quasar.utils.stringToSec(a)});var c=this;return $(".recruit_unit").each(function(){var d=$(this);if(""!=d.val()&&0!=d.val()){var e=d.attr("name");Quasar.game.units[e].ed==a&&(b+=c._temp_storage[e].time)}}),b+=Quasar.utils.stringToSec($("#trainqueue_wrap_"+a+" td:eq(1)").text())},getStatus:function(){return Quasar.config.get("auto_train",!1)},setStatus:function(a){Quasar.config.set("auto_train",a)},updateRecruiment:function(){if(Quasar.train.isSequential()){var a=$("#sortable1").sortable("toArray");a.shift(),Quasar.config.set("recruitment_sequential_"+game_data.village.id,a)}else{var b=[];$("#sortable1").find("span").each(function(){var a=$(this);b.push([a.attr("id"),a.attr("data-badge")])}),Quasar.config.set("recruitment_numerical_"+game_data.village.id,b)}this.UI.updateType()},UI:{init:function(){var a=$('<table width="100%" class="content-border vis nowrap tall" style="opacity:0;"><tr><th style="width: 40%">'+Quasar.lang.get("order_recruit")+"( Limitado em "+Quasar.config.get("max_recruit_time",8)+' horas) [ <a href="#" id="import">Importar</a> | <a href="#" id="export">Exportar</a> ]</th><th style="width: 40%" >'+Quasar.lang.get("units")+'</th><th style="width: 20%"></th></tr><tr><td><div id="sortable1" style="width: 100%"><img src="graphic/buildings/barracks.png"></div></td><td><div id="sortable2"></div></td><td id="recruitmentType"></td></tr></table></br>');
$("#contentContainer").before(a);var b=Quasar.train.isSequential();$sequencial=$('<label><input type="radio" name="type" '+(b?"checked":"")+">Sequêncial</label>").on("click",function(){Quasar.config.set("sequential_recruitment",!0),Quasar.train.UI.updateType()}),$quantitativo=$('<label><input type="radio" name="type" '+(b?"":"checked")+">Quantitativo</label>").on("click",function(){Quasar.config.set("sequential_recruitment",!1),Quasar.train.UI.updateType()}),$recruitType=$("#recruitmentType"),$recruitType.append($sequencial),$recruitType.append("</br>"),$recruitType.append($quantitativo),Quasar.train.UI.updateType(),a.fadeTo(1e3,1)},updateType:function(){var a,b=$("#sortable1"),c=$("#sortable2"),d=null,e=null;b.html(""),c.html("");for(a in Quasar.game.units)d=Quasar.game.units[a].name,c.append('<span id="'+d+'"><img src="/graphic/unit/recruit/'+d+'.png"></span>');if(b.append('<img src="graphic/buildings/barracks.png">'),Quasar.train.isSequential()){e=Quasar.config.get("recruitment_sequential_"+game_data.village.id,[]);for(a in e)d=e[a],b.append('<span id="'+d+'"><img src="/graphic/unit/recruit/'+d+'.png"></span>');$("#sequential").attr("checked","checked")}else{e=Quasar.config.get("recruitment_numerical_"+game_data.village.id,[]);for(a in e){d=e[a][0];var f=e[a][1];b.append('<span id="'+d+'" class="badge1" data-badge="'+f+'"><img src="/graphic/unit/recruit/'+d+'.png"></span>')}$("#numerical").attr("checked","checked")}b.sortable({placeholder:"ui_active",forcePlaceholderSize:!0,cursor:"move",revert:!0,tolerance:"pointer",connectWith:"#sortable2",stop:function(a,b){$item=b.item,"sortable2"==$item.parent().attr("id")&&$item.remove(),Quasar.train.updateRecruiment()}}).disableSelection(),c.sortable({placeholder:"ui_active",forcePlaceholderSize:!0,cursor:"move",revert:!0,tolerance:"pointer",connectWith:"#sortable1",stop:function(a,b){if($item=b.item,"sortable2"!=$item.parent().attr("id")&&($item.clone().appendTo(c),!Quasar.train.isSequential()&&null==$item.attr("data-badge"))){var d=Number(prompt("Quantas unidades deseja recrutar?",1));1>d&&(d=1),$item.attr("data-badge",d),$item.addClass("badge1")}Quasar.train.updateRecruiment()}}).disableSelection()}}},utils:{IsNumeric:function(a){return a-0==a&&(""+a).replace(/^\s+|\s+$/g,"").length>0},stringToSec:function(a){if("undefined"==typeof a)return null;var b=a.split(":");if(b.length<3)return null;var c=0;return c+=60*Number(b[0])*60,c+=60*Number(b[1]),c+=Number(b[2]),Number(c)},secToString:function(a){var b=Math.floor(a/3600),c=a%3600,d=Math.floor(c/60),e=c%60,f=Math.ceil(e);return(10>b?"0"+b:b)+":"+(10>d?"0"+d:d)+":"+(10>f?"0"+f:f)},getVillageByID:function(a){for(var b=0;b<TWMap.villages.length;b++)if("undefined"!=typeof TWMap.villages[b]&&TWMap.villages[b].id==a)return TWMap.villages[b];return null},random:function(a,b){return Math.floor(Math.random()*(b-a+1))+a},coordToId:function(a){if("undefined"===TWMap)return null;var b=TWMap.villages[a];return"undefined"==typeof b?null:b.id},getNextVillage:function(){var a=new QJSON("villages",!0),b=game_data.village.coord,c=a.getIndexOf(b)+1;return c>a.length()-1&&(c=0),a.get(c)},setReload:function(a){var b=Quasar.utils.random(Number(Quasar.config.get("min_rand",300)),Number(Quasar.config.get("max_rand",900)));console.log("Reloading in "+b+" seconds"),Quasar.interface.menu.countDown(b,function(){if(game_data.player.premium&&game_data.player.villages>1)location.href=$("#village_switch_right").attr("href");else if(game_data.player.villages>1&&null!=Quasar.utils.getNextVillage()){var b=Quasar.utils.getNextVillage();location.href="?village="+b+a}else location.href=""})},getPrevVillage:function(){var a=new QJSON("villages",!0),b=game_data.village.coord,c=a.getIndexOf(b)-1;return 0>c&&(c=a.length()-1),a.get(c)},getDataOld:function(a,b){var c=localStorage.getItem(a);if(!c)return void 0==b?"":(this.setData(a,b),b);var d=c[0];switch(c=c.substring(1),d){case"b":return"true"==c;case"n":return Number(c);default:return c}},setDataOld:function(a,b){b=(typeof b)[0]+b,localStorage.setItem(a,b)},getData:function(a,b){var c=new QJSON(game_data.player.name);return null===c.get(a)?b:c.get(a)},setData:function(a,b){var c=new QJSON(game_data.player.name);c.set(a,b),c.save()},_GET:function(a,b){null===b&&(b=location.href),url=b.replace(/.*?\?/,"");for(var c=url.split("&"),d=0;d<c.length;d++)if(null!==d.match(a))return decodeURIComponent(c[d].replace(a+"=",""));return null},orderByDis:function(a,b){var c,d,e,f=[],g=a.split("|")[0],h=a.split("|")[1];for(b instanceof Array||(b=b.split(" ")),e=0;e<b.length;e++)c=b[e].split("|")[0],d=b[e].split("|")[1],f[e]=Math.sqrt(Math.pow(c-g,2)+Math.pow(d-h,2));for(e=0;e<b.length;e++)for(var i=e+1;i<b.length;i++)if(f[i]<f[e]){var j=f[i];f[i]=f[e],f[e]=j;var k=b[i];b[i]=b[e],b[e]=k}return b},clean:function(a){var b=[];a instanceof Array||(a=a.split(" "));for(var c=0;c<a.length;c++)!b.indexOf(a[c])>-1&&""!==a[c]&&b.push(a[c]);return b},tickTimer:function(a){var b=a.endTime-(getLocalTime()+timeDiff);if(0>=b){{var c=a.element.parent().parent();c.parent().parent().find("tr.sortable_row")}return c.remove(),("train"==game_data.screen||"main"==game_data.screen)&&Loader.goTo(),!0}return formatTime(a.element,b,!1),!1}},game:{builds:{main:{max:30,name:"Edifício principal",wood:90,stone:80,iron:70,pop:5,fwood:1.26,fstone:1.275,firon:1.26,fpop:1.17},barracks:{max:25,name:"Quartel",wood:200,stone:170,iron:90,pop:7,fwood:1.26,fstone:1.28,firon:1.26,fpop:1.17},stable:{max:20,name:"Estabulo",wood:270,stone:240,iron:260,pop:8,fwood:1.26,fstone:1.28,firon:1.26,fpop:1.17},garage:{max:15,name:"Oficina",wood:300,stone:240,iron:260,pop:8,fwood:1.26,fstone:1.28,firon:1.26,fpop:1.17},church:{max:3,name:"Igreja",wood:16e3,stone:2e4,iron:5e3,pop:5e3,fwood:1.26,fstone:1.28,firon:1.26,fpop:1.55},church_f:{max:1,name:"Primeira Igreja",wood:160,stone:200,iron:50,pop:5,fwood:1.26,fstone:1.28,firon:1.26,fpop:1.55},snob:{max:1,name:"Academia",wood:15e3,stone:25e3,iron:1e4,pop:80,fwood:2,fstone:2,firon:2,fpop:1.17},smith:{max:20,name:"Ferreiro",wood:220,stone:180,iron:240,pop:20,fwood:1.26,fstone:1.275,firon:1.26,fpop:1.17},place:{max:1,name:"Praça",wood:10,stone:40,iron:30,pop:0,fwood:1.26,fstone:1.275,firon:1.26,fpop:1.17},statue:{max:1,name:"Estabulo",wood:220,stone:220,iron:220,pop:10,fwood:1.26,fstone:1.275,firon:1.26,fpop:1.17},market:{max:25,name:"Mercado",wood:100,stone:100,iron:100,pop:20,fwood:1.26,fstone:1.275,firon:1.26,fpop:1.17},wood:{max:30,name:"Bosque",wood:50,stone:60,iron:40,pop:5,fwood:1.25,fstone:1.275,firon:1.245,fpop:1.155},stone:{max:30,name:"Poço de argila",wood:65,stone:50,iron:40,pop:5,fwood:1.27,fstone:1.265,firon:1.24,fpop:1.14},iron:{max:30,name:"Mina de ferro",wood:75,stone:65,iron:70,pop:10,fwood:1.252,fstone:1.275,firon:1.24,fpop:1.17},farm:{max:30,name:"Fazenda",wood:45,stone:40,iron:30,pop:0,fwood:1.3,fstone:1.32,firon:1.29,fpop:1},storage:{max:30,name:"Armazem",wood:60,stone:50,iron:40,pop:0,fwood:1.265,fstone:1.27,firon:1.245,fpop:1.15},hide:{max:10,name:"Esconderijo",wood:50,stone:60,iron:50,pop:2,fwood:1.25,fstone:1.25,firon:1.25,fpop:1.17},wall:{max:20,name:"Muralha",wood:50,stone:100,iron:20,pop:5,fwood:1.26,fstone:1.275,firon:1.26,fpop:1.17}},units:{spear:{wood:50,stone:30,iron:10,pop:1,time:1020,ed:"barracks",name:"spear"},sword:{wood:30,stone:30,iron:70,pop:1,time:1500,ed:"barracks",name:"sword"},axe:{wood:60,stone:30,iron:40,pop:1,time:1320,ed:"barracks",name:"axe"},archer:{wood:100,stone:30,iron:60,pop:1,time:1800,ed:"barracks",name:"archer"},spy:{wood:50,stone:50,iron:20,pop:2,time:900,ed:"stable",name:"spy"},light:{wood:100,stone:125,iron:250,pop:4,time:1800,ed:"stable",name:"light"},marcher:{wood:250,stone:100,iron:150,pop:5,time:2700,ed:"stable",name:"marcher"},heavy:{wood:200,stone:150,iron:600,pop:6,time:3600,ed:"stable",name:"heavy"},ram:{wood:300,stone:200,iron:200,pop:5,time:4800,ed:"garage",name:"ram"},catapult:{wood:320,stone:400,iron:100,pop:8,time:7200,ed:"garage",name:"catapult"}}}};